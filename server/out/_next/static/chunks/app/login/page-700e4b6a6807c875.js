(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{3635:function(e,t,a){Promise.resolve().then(a.bind(a,966))},966:function(e,t,a){"use strict";a.r(t);var s=a(7437),l=a(2265),r=a(7907),o=a(7908),n=a(8792);t.default=()=>{let[e,t]=(0,l.useState)(""),[a,i]=(0,l.useState)(""),[d,u]=(0,l.useState)(!1),c=(0,r.useRouter)();(0,l.useEffect)(()=>{"true"===localStorage.getItem("isLoggedIn")?u(!0):u(!1)},[]);let m=async t=>{t.preventDefault();try{let t=await o.Z.post("http://localhost:4000/api/login",{email:e,password:a});200===t.status?(console.log(t.data.message),console.log("Logged in"),u(!0),localStorage.setItem("isLoggedIn","true"),c.push("/")):alert(t.data.error||"Login failed. Please try again later.")}catch(e){e.response&&401===e.response.status?alert("Invalid email or password"):(console.error("Login error:",e),alert("Login failed. Please try again later."))}};return(0,s.jsx)("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[(0,s.jsx)("h1",{className:"text-center text-2xl font-bold mb-4",children:"Login to your account"}),(0,s.jsxs)("form",{onSubmit:m,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block font-semibold text-gray-600",children:"Email"}),(0,s.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block font-semibold text-gray-600",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",value:a,onChange:e=>i(e.target.value),required:!0,className:"w-full p-2 border rounded-md"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full p-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition duration-300",children:"Sign In"})]}),(0,s.jsx)(n.default,{href:"/",className:"block text-center mt-4 text-gray-600 hover:text-gray-700 transition duration-300",children:"Back to Home"})]})})}}},function(e){e.O(0,[901,908,971,69,744],function(){return e(e.s=3635)}),_N_E=e.O()}]);